# Microservice-specific golangci-lint configuration
# Extends base.yml with additional checks for microservices

linters:
  enable:
    # All linters from base.yml plus:
    
    # Exhaustiveness checking for event handling
    - exhaustive      # Ensures all switch cases are handled

linters-settings:
  # Inherit all settings from base.yml
  
  # Microservice-specific: exhaustive checking for sealed interfaces
  exhaustive:
    check-generated: false
    default-signifies-exhaustive: false
    check:
      - switch
      - map
    ignore-enum-types: ""
    # IMPORTANT: Enable for event-driven microservices with sealed Event interfaces
    explicit-exhaustive-switch: true

issues:
  # Additional exclusions for microservices
  exclude-rules:
    # Allow some flexibility in HTTP handlers
    - path: internal/http/
      linters:
        - errcheck
      text: "Error return value of.*WriteHeader.*is not checked"

run:
  # Microservices might have more code, allow slightly more time
  timeout: 5m
